{"version":3,"sources":["ts/storageHelper.ts","ts/arc.ts","ts/midiHelper.ts","ts/select.ts","index.ts"],"names":[],"mappings":";;;;;;AIAA,AHCA,AEDA,AHAA,IIAA,AHCA,AEDA,AHAA,KIAA,GAAA,KJAA,EIAA,AHCA,AEDA,CCAA,EHCA,AEDA,OFCA,AEDA,CCAA,AHCA,AEDA,CCAA,gBHCA,AEDA,CFCA,AEDA;AHAA;AICA,AHEA,AEDA,AHFA,IICA,AHEA,AEDA,GFCA,GEDA,EHFA,IICA,GAAA,OAAA,CAAA,iBAAA,CAAA;AHEA,AEDA,AHFA,WAAA,aAAA,GAAA,CAuBC;AIrBD,AHCA,AEDA,ICAA,QAAA,AHCA,AEDA,GCAA,OAAA,CAAA,aAAA,CAAA;AHUE,AEJA,AHPO,EAAA,SCWP,AEJA,GFIA,CAAY,ADXL,CAAA,CGOP,CAAY,KFIZ,CDXO,CCWuB,CEJ9B,CFIA,ADXA,CGO4B,CFIgB,QDX5B,IAAhB,EAA2B,QAA3B,EAAgD;AIGlD,AHCU,AEFA,AHFmB,IIG7B,IJH6B,CCInB,AEFA,GFEA,AEFA,GFEM,AEFA,CHFa,KIG7B,AJH6B,KAAA,CAAA,EAAA,CCIb,AEFA,CFEA,AEFA,aFEN,AEFA;ACCV,AHIU,AEFA,AHLmB,MAAA,GCOnB,AEFA,KHLmB,GCOnB,AEFA,AHLmB,EAAA,CCOiB,AEFA,IFEpC,AEFA;ACFV,AHKU,AEAN,AHR8C,SCQxC,AEAD,GCLT,GHKU,GAA6B,AEAnC,GAAiB,CFAX,OEAN;ACDF,AHEQ,SAAA,EGFR,IHEQ,GAAS,CAAT,SGFR,GAAA;AAHQ,AHQN,AEFA,AHTA,QGSI,AHTE,CIGA,AHQD,IEFI,AHTE,GAAG,ECWd,EGRM,CHQW,CEFjB,CCN6C,CDMzB,GCNd,CJHoB,CCW1B,ADX2B,OAAb,CAAqB,IAAI,CAAC,EAA1B,CAAd;AIIM,AHQN,AEFE,SCNI,AHQD,EEFE,CFEP,GAAW,EAAX,EEFE,ECNI,CDMY,ECN4B,IAAxC,EDMoB,CAAC,aAAT,CAAuB,KAAK,SAA5B,CAAhB;ACHF,ADIE,AHVF,QAAI,CIMC,CDIG,GHVC,EGUI,EHVA,CGUG,ECJhB,GAAmB,ADIE,EHVrB,CGUgB,CAAS,AHVF,IIMI,CAAC,GDIZ,CAAkB,KAAK,ICJpB,CAAuB,GDI1B,EAAiC,SCJ9B,CAAnB,KDIgB,CAAd;ACHF,AHMA,ADZE,MAAA,ECYE,CGNC,CJNC,CAAC,ECYE,MDZH,CAAJ,CIMF,CHMA,CDZmB,CIMC,AHMA,IDZlB,IIM0B,CAAC,aAAT,CAAuB,eAAvB,CAApB,CAFF,CAIE;AHKE,AEHA,AHTD,UGSK,CFGC,IEHI,IFGT,GAAgB,CEHZ,IAAiB,GFGG,CAAC,CEHzB,EAA4B,UFGZ,CAAuB,KAAK,SAA5B,CAAhB;AGJF,AHKE,AEHE,QCFE,EAAE,CHKD,EGLI,ADEF,ICFM,AHKb,GAAc,CEHZ,CAAc,KAAd,CFGoB,CGLT,AHKU,CGLV,ADEW,KAAK,CAAC,ICFrB,EAAX,AHKgB,CAA0B,CEHhB,EAAtB,EFG2C,SAAL,GAAc,QAAxC,CAAd;AGJF,AHKE,AEHC,AHTH,IIOA,EAAE,CAAC,IHKI,ADZA,GIOP,AHKE,CAAS,CDZX,CICF,CAQE,KHGE,CAAkB,KAAK,QAAvB,EAAiC,OAAjC;AACD,AEHA,AHTF,GAPM;AIgBL,IAAA,QAAQ,CAAC,gBAAT,CAA0B,oBAA1B,EAAgD,OAAhD,CAAwD,UAAC,MAAD,EAAO;AAC7D,AHIF,AEHA,AHTK,EAAA,OCYA,AEHA,CCDC,KJRD,CCYL,AEHA,AHTK,EIQC,CAAA,KJRD,CIQH,CAAW,CJRf,KIQmB,KJRH,CIQS,CAAC,EAAtB,AJRJ,EAA2B,QAA3B,EAAgD;AIS7C,AHIF,AEHA,AHV0B,KIOzB,EATF,CAaE,AJXyB,QAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,QAAA,GAAA,EAAA;AIYzB,AHGF,AEHQ,AHZwC,ECehD,AEHQ,ECAN,IHGF,AEHQ,CFGR,AEHQ,GCAE,CAAC,KDAH,CAAA,IFGR,CAAI,EEHI,CFGJ,CAAA,CGHF,ADAF,CCA4B,OHG5B,EAAI,EGHF,ADAF,ECAyC,GHGzC,EAAS,EGHP,CAA+C,UAAC,GAAD,EAAI;AACjD,ADAF,QAAI,CFEN,CGFQ,GDAG,ECAH,CAAA,GAAJ,CAAQ,CDAV,EAAmB,CFErB,EGFgB,GAAG,CAAC,EAAhB,EAAsB,EAAtB;AACD,AHED,AEFE,AHbF,IAAA,CIWA,MDEO,AHbA,CAAC,CCeD,EDfP,CAAY,CCeD,EEFT,CAAc,GFET,CAAW,KAAK,EDfvB,EAA6B,ECetB,CAAP,AEFE,CAA+B,AHbA,CAAC,EAAlC,EAAsC,GGapC,CHbwC,CGaC,AHbA,KGaK,GHbN,CAAJ,CAAe,QAAf,EGaK,AHb3C,CGagE,IAArB,CAA0B,IAA1B,CAAzC;ACEF,AHCD,AEFE,AHbD,IAAA,CCaO,IGCF,OAAL,AJdY,CAAC,OAAb,CAAqB,IAAI,CAAC,EAA1B,EAA8B,IAAI,CAAC,QAAD,CAAJ,CAAe,QAAf,EAA9B;AIeD,ADDA,AHbA,GGSO,AHZD,iBCeE;;AGIT,AHJS,AEGD,AHbD,EIcP,ADDQ,AHbD,CCUP,KEGQ,CAAA,MHbD,CAAA,EGaC,CCCR,ADDQ,CCCR,EJdO,GAAP,IIcA,CAAA,IDDQ,CHbM,EGad,ECCA,AJdA,EAAyB,CIczB,ODDA,AHbA,EAA8C,GIc9C;AACE,ADDA,AHduB,IIevB,IDDI,AHdmB,GIehB,CAAC,CDDC,ECCT,CAAY,AJfW,KGcvB,AHduB,EGcJ,GHdI,CAAA,EAAA,iBIevB,EADF,CAEE;AACA,AHHM,AECJ,AHfqB,ECcjB,GAAA,CAAA,ADdiB,KGehB,GAAL,AHfqB,CCcjB,AECK,CFDL,CDdiB,EAAA,ICcjB,AECJ,CAAkB,EFDtB,GEC2B,QAAvB,CFDJ,CECqC,eAAjC;ACGF,AHHA,AECC,AHhB2C,QCexC,KAAK,QAAT,EAAmB;AGInB,AHHE,AECH,GAJO,QFGC,QAAL,CAAc,gBAAd,CAA+B,OAA/B,EAAwC,KAAK,eAAL,CAAqB,IAArB,CAA0B,IAA1B,CAAxC;AGIH,AHHG,ADhBF,GIaF,KJbQ,GCgBC,MDhBQ,ECgBb,CAAc,ADhBG,QAAQ,IAAI,ICgB7B,CAA+B,MDhBf,CCgBhB,EAAwC,ADftC,KCe2C,EDhB7B,GAEd,QAFJ,ECgB0C,CAAqB,IAArB,CAA0B,IAA1B,CAAxC;AACD,AEAL,AHdI,IAAA,IAAI,CGcR,AHdS,MGcT,UHdI,CAAsB,SAAtB,EAAiC,YAAA;AIkB3B,AHHP,AEhCH,AHkBM,CGlBN,CCmCU,CHRA,AE3BV,GHkBM,aIiBI,AJjBS,CIiBT,AJjBU,QAAd,CIiBI,AJjBmB,CIiBnB,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","file":"src.77de5100.js","sourceRoot":"../src","sourcesContent":["export class StorageHelper {\n  static getState(item: any, valueSrc: string = '') {\n    const state = localStorage.getItem(item.id);\n    if (state && valueSrc) {\n      item[valueSrc] = state;\n    }\n\n    return state;\n  }\n\n  static setState(item: any, valueSrc: string = '') {\n    console.log('setting state', item.id, item[valueSrc].toString());\n    localStorage.setItem(item.id, item[valueSrc].toString());\n  }\n\n  static attach(item: any, valueSrc: string = '') {\n    const eventType = (valueSrc == 'innerText')\n      ? 'input'\n      : 'change';\n    item.addEventListener(eventType, () => {\n      StorageHelper.setState(item);\n    });\n  }\n}","import {MidiHelper} from './midiHelper';\nimport {StorageHelper} from './storageHelper';\n\nexport class Arc {\n  private mh_: MidiHelper;\n  private sh_ = StorageHelper;\n\n  private selector_: string;\n  private element_: HTMLInputElement | null = null;\n  private label_: HTMLElement | null = null;\n  private value_ = 0;\n\n  constructor(selector: string, mh: MidiHelper) {\n    this.selector_ = selector;\n    this.mh_ = mh;\n\n    if (this.selector_) {\n      this.element_ = document.querySelector(this.selector_);\n      this.label_ = document.querySelector(`${this.selector_}-label`);\n      this.sh_.getState(this.element_, 'value');\n    }\n\n    this.attach_();\n  }\n\n  get value(): number {\n    return new Number(this.value_) as number;\n  }\n\n  private attach_() {\n    if (this.element_) {\n      this.element_.addEventListener('input', this.changeListener_.bind(this));\n      this.element_.addEventListener('click', this.changeListener_.bind(this));\n    }\n  }\n\n  private changeListener_() {\n    const elem = document.querySelector(`${this.selector_}-val1`) as HTMLInputElement;\n    const val1 = new Number(elem.value || 0) as number;\n\n    if (this.element_) {\n      this.value_ = new Number(this.element_.value) as number;\n      if (this.label_ && val1) {\n        this.label_.innerText = `${this.value_} | ${val1}`;\n      }\n\n      // this.mh_.noteOn(this.value, 100, 100);\n      this.mh_.sendMessage(this.mh_.CC, val1, this.value);\n      this.sh_.setState(this.element_, 'value');\n    }\n  }\n}","export class MidiHelper {\n  NOTE_ON = 0x90;\n  NOTE_OFF = 0x80;\n  CC = 0xB0;\n\n  private midiIn_: WebMidi.MIDIInput[] = [];\n  private midiOut_: WebMidi.MIDIOutput[] = [];\n  private selectIn_: HTMLSelectElement | null = null;\n  private selectOut_: HTMLSelectElement | null = null;\n\n  constructor() {\n    this.selectIn_ = document.querySelector('#midi-input');\n    this.selectOut_ = document.querySelector('#midi-output');\n  }\n\n  private midiReady_(midiAccess: WebMidi.MIDIAccess) {\n    midiAccess.addEventListener('statechange', () => {\n      this.initDevices_(midiAccess);\n    });\n    this.initDevices_(midiAccess);\n  }\n\n  private initDevices_(midiAccess: WebMidi.MIDIAccess) {\n    this.midiIn_ = [];\n    this.midiOut_ = [];\n\n    // MIDI devices that send you data.\n    const inputs = midiAccess.inputs.values();\n    for (let input = inputs.next(); input && !input.done; input = inputs.next()) {\n      this.midiIn_.push(input.value);\n    }\n\n    // MIDI devices that you send data to.\n    const outputs = midiAccess.outputs.values();\n    for (let output = outputs.next(); output && !output.done; output = outputs.next()) {\n      this.midiOut_.push(output.value);\n    }\n\n    this.displayDevices_();\n  }\n\n  private displayDevices_() {\n    if (this.selectIn_) {\n      this.selectIn_.innerHTML = this.midiIn_.map((device: any) => {\n        return `<option>${device.name}</option>`\n      }).join('');\n    }\n\n    if (this.selectOut_) {\n      this.selectOut_.innerHTML = this.midiOut_.map((device: any) => {\n        return `<option>${device.name}</option>`\n      }).join('');\n    }\n  }\n\n  async connect() {\n    await (navigator as Navigator)\n    .requestMIDIAccess()\n    .then(\n        (midiAccess: WebMidi.MIDIAccess) => this.midiReady_(midiAccess),\n        (err: Error) => console.log('Something went wrong', err));\n  }\n\n  noteOn(pitch: number, velocity: number) {\n    const msgOn = [this.NOTE_ON, pitch, velocity];\n\n    if (this.selectOut_) {\n      const device: WebMidi.MIDIOutput = this.midiOut_[this.selectOut_.selectedIndex];\n      device.send(msgOn);\n    }\n  }\n\n  noteOff(pitch: number, duration: number) {\n    const msgOff = [this.NOTE_ON, pitch, 0];\n\n    if (this.selectOut_) {\n      const device: WebMidi.MIDIOutput = this.midiOut_[this.selectOut_.selectedIndex];\n      device.send(msgOff, Date.now() + duration);\n    }\n  }\n\n  sendMessage(msg: number, value1: number, value2: number) {\n    if (this.selectOut_) {\n      const device: WebMidi.MIDIOutput = this.midiOut_[this.selectOut_.selectedIndex];\n      device.send([msg, value1, value2]);\n    }\n  }\n}","import {StorageHelper} from './storageHelper';\n\nexport class Select {\n  private sh_ = StorageHelper;\n\n  private selector_: string;\n  private element_: HTMLInputElement | null = null;\n\n  constructor(selector: string) {\n    this.selector_ = selector;\n\n    if (this.selector_) {\n      this.element_ = document.querySelector(this.selector_);\n      const state = this.sh_.getState(this.element_, 'selectedIndex');\n      if (this.element_ && state) {\n        this.element_.value = state.toString();\n      }\n    }\n\n    this.attach_();\n  }\n\n  private attach_() {\n    if (this.element_) {\n      this.element_.addEventListener('change', this.changeListener_.bind(this));\n    }\n  }\n\n  private changeListener_() {\n    if (this.element_) {\n      this.sh_.setState(this.element_, 'selectedIndex');\n    }\n  }\n}","import {Arc} from './ts/arc';\nimport {MidiHelper} from './ts/midiHelper';\nimport {Select} from './ts/select';\n\nexport class WebmidiController {\n  private saveButton_: HTMLInputElement | null = null;\n  private clearButton_: HTMLInputElement | null = null;\n\n  constructor() {\n    this.saveButton_ = document.querySelector('#save-button');\n    this.clearButton_ = document.querySelector('#clear-button');\n\n    // Instantiate webmidi.\n    const mh = new MidiHelper();\n    mh.connect();\n\n    // Instantiate selects.\n    document.querySelectorAll('select.midi-select').forEach((select) => {\n      new Select(`#${select.id}`);\n    });\n\n    // Instantiate sliders.\n    document.querySelectorAll('input.arc').forEach((arc) => {\n      new Arc(`#${arc.id}`, mh);\n    });\n\n    this.attach_();\n  }\n\n  saveState() {\n    console.log('Saving state in localStorage');\n    // const saves = document.querySelectorAll('*[data-save]');\n    // saves.forEach((item: any) => {\n    //   this.localStorageSaveHandler_(item);\n    // });\n  }\n\n  private attach_() {\n    if (this.clearButton_) {\n      this.clearButton_.addEventListener('click', () => {\n        console.log('Clearing saved localStorage states');\n        localStorage.clear();\n      });\n    }\n\n    if (this.saveButton_) {\n      this.saveButton_.addEventListener('click', this.saveState.bind(this));\n    }\n  }\n}\n\nnew WebmidiController();"]}